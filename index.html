<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOMæ“ä½œã¨EventListener - JavaScriptæŠ€è¡“è§£èª¬</title>
    <link rel="stylesheet" href="main.css">
    <script src="main.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>DOMæ“ä½œã¨EventListener</h1>
            <p>JavaScriptã«ã‚ˆã‚‹å‹•çš„ãªWebãƒšãƒ¼ã‚¸åˆ¶ä½œã®åŸºç¤æŠ€è¡“</p>
        </header>

        <div class="content">
            <section class="section">
                <h2>1. DOMï¼ˆDocument Object Modelï¼‰ã¨ã¯</h2>
                <p>DOMã¯ã€HTMLãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰æ“ä½œã™ã‚‹ãŸã‚ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã™ã€‚HTMLã®å„è¦ç´ ã‚’ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦è¡¨ç¾ã—ã€JavaScriptã‹ã‚‰å‹•çš„ã«æ“ä½œã§ãã¾ã™ã€‚</p>
                
                <h3>DOMã®åŸºæœ¬æ¦‚å¿µ</h3>
                <p>DOMã¯æœ¨æ§‹é€ ï¼ˆãƒ„ãƒªãƒ¼æ§‹é€ ï¼‰ã§HTMLãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è¡¨ç¾ã—ã¾ã™ã€‚å„HTMLã‚¿ã‚°ã¯ã€Œãƒãƒ¼ãƒ‰ã€ã¨ã—ã¦æ‰±ã‚ã‚Œã€è¦ªå­é–¢ä¿‚ã‚’æŒã¡ã¾ã™ã€‚</p>
                
                <div class="code-container">
                    <div class="code-block">
                        <button class="copy-button" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>
                        <pre>
// DOMã®åŸºæœ¬çš„ãªå–å¾—æ–¹æ³•
const element = document.getElementById('myId');         // IDæŒ‡å®š
const elements = document.getElementsByClassName('myClass'); // ã‚¯ãƒ©ã‚¹æŒ‡å®š
const elements2 = document.getElementsByTagName('div');      // ã‚¿ã‚°æŒ‡å®š
const element2 = document.querySelector('.myClass');        // CSSé¸æŠå­
const elements3 = document.querySelectorAll('.myClass');    // è¤‡æ•°å–å¾—
                        </pre>
                    </div>
                </div>
            </section>

            <section class="section">
                <h2>2. DOMæ“ä½œã®åŸºæœ¬æŠ€è¡“</h2>
                
                <h3>2-1. è¦ç´ ã®å–å¾—ã¨æ“ä½œ</h3>
                <div class="demo-area">
                    <div class="demo-title">å®Ÿæ¼”ï¼šè¦ç´ ã®å–å¾—ã¨æ“ä½œ</div>
                    <div id="demo-element" style="padding: 20px; background: #e3f2fd; border-radius: 8px; margin: 10px 0;">
                        ã“ã®è¦ç´ ã‚’æ“ä½œã—ã¦ã¿ã¾ã—ã‚‡ã†
                    </div>
                    <button onclick="changeText()">ãƒ†ã‚­ã‚¹ãƒˆå¤‰æ›´</button>
                    <button onclick="changeStyle()">ã‚¹ã‚¿ã‚¤ãƒ«å¤‰æ›´</button>
                    <button onclick="resetElement()">ãƒªã‚»ãƒƒãƒˆ</button>
                </div>

                <div class="code-container">
                    <div class="code-block">
                        <button class="copy-button" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>
                        <pre>
// è¦ç´ ã®å–å¾—
const element = document.getElementById('demo-element');

// ãƒ†ã‚­ã‚¹ãƒˆã®å¤‰æ›´
element.textContent = 'æ–°ã—ã„ãƒ†ã‚­ã‚¹ãƒˆ';
element.innerHTML = '&lt;strong&gt;HTMLä»˜ããƒ†ã‚­ã‚¹ãƒˆ&lt;/strong&gt;';

// ã‚¹ã‚¿ã‚¤ãƒ«ã®å¤‰æ›´
element.style.backgroundColor = '#ffcdd2';
element.style.color = '#d32f2f';

// å±æ€§ã®æ“ä½œ
element.setAttribute('class', 'new-class');
element.getAttribute('id');
element.removeAttribute('class');
                        </pre>
                    </div>
                </div>

                <h3>2-2. è¦ç´ ã®è¿½åŠ ãƒ»å‰Šé™¤</h3>
                <div class="demo-area">
                    <div class="demo-title">å®Ÿæ¼”ï¼šè¦ç´ ã®å‹•çš„è¿½åŠ ãƒ»å‰Šé™¤</div>
                    <div id="dynamic-container">
                        <p>ã“ã“ã«è¦ç´ ãŒè¿½åŠ ã•ã‚Œã¾ã™</p>
                    </div>
                    <button onclick="addElement()">è¦ç´ è¿½åŠ </button>
                    <button onclick="removeElement()">è¦ç´ å‰Šé™¤</button>
                    <button onclick="clearContainer()">å…¨å‰Šé™¤</button>
                </div>

                <div class="code-container">
                    <div class="code-block">
                        <button class="copy-button" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>
                        <pre>
// æ–°ã—ã„è¦ç´ ã®ä½œæˆ
const newElement = document.createElement('div');
newElement.textContent = 'æ–°ã—ã„è¦ç´ ';
newElement.className = 'new-item';

// è¦ç´ ã®è¿½åŠ 
parentElement.appendChild(newElement);        // æœ«å°¾ã«è¿½åŠ 
parentElement.insertBefore(newElement, referenceElement); // æŒ‡å®šä½ç½®ã«è¿½åŠ 

// è¦ç´ ã®å‰Šé™¤
parentElement.removeChild(childElement);      // å­è¦ç´ ã‚’å‰Šé™¤
element.remove();                            // è¦ç´ è‡ªä½“ã‚’å‰Šé™¤
                        </pre>
                    </div>
                </div>
            </section>

            <section class="section">
                <h2>3. EventListenerã®åŸºæœ¬æ¦‚å¿µ</h2>
                <p>EventListenerã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ“ä½œï¼ˆã‚¯ãƒªãƒƒã‚¯ã€ã‚­ãƒ¼å…¥åŠ›ãªã©ï¼‰ã‚„ãƒšãƒ¼ã‚¸ã®çŠ¶æ…‹å¤‰åŒ–ï¼ˆèª­ã¿è¾¼ã¿å®Œäº†ãªã©ï¼‰ã«åå¿œã—ã¦JavaScriptã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ä»•çµ„ã¿ã§ã™ã€‚</p>

                <h3>3-1. åŸºæœ¬çš„ãªã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼</h3>
                <div class="demo-area">
                    <div class="demo-title">å®Ÿæ¼”ï¼šåŸºæœ¬çš„ãªã‚¤ãƒ™ãƒ³ãƒˆ</div>
                    <button id="click-demo">ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„</button>
                    <div id="click-result" style="margin-top: 10px; padding: 10px; background: #f5f5f5; border-radius: 4px;">
                        ã‚¯ãƒªãƒƒã‚¯å›æ•°: <span id="click-count">0</span>
                    </div>
                </div>

                <div class="code-container">
                    <div class="code-block">
                        <button class="copy-button" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>
                        <pre>
// ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®åŸºæœ¬å½¢
element.addEventListener('click', function(event) {
    console.log('ã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸï¼');
    console.log('ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±:', event);
});

// ã‚¢ãƒ­ãƒ¼é–¢æ•°ã§ã®æ›¸ãæ–¹
element.addEventListener('click', (event) => {
    console.log('ã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸï¼');
});

// åå‰ä»˜ãé–¢æ•°ã§ã®æ›¸ãæ–¹
function handleClick(event) {
    console.log('ã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸï¼');
}
element.addEventListener('click', handleClick);
                        </pre>
                    </div>
                </div>

                <h3>3-2. æ§˜ã€…ãªã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ—</h3>
                <div class="demo-area">
                    <div class="demo-title">å®Ÿæ¼”ï¼šæ§˜ã€…ãªã‚¤ãƒ™ãƒ³ãƒˆ</div>
                    <input type="text" id="text-input" placeholder="ã“ã“ã«å…¥åŠ›ã—ã¦ãã ã•ã„">
                    <select id="select-demo">
                        <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                        <option value="option1">ã‚ªãƒ—ã‚·ãƒ§ãƒ³1</option>
                        <option value="option2">ã‚ªãƒ—ã‚·ãƒ§ãƒ³2</option>
                        <option value="option3">ã‚ªãƒ—ã‚·ãƒ§ãƒ³3</option>
                    </select>
                    <div class="demo-box" id="hover-demo" title="ãƒã‚¦ã‚¹ã‚ªãƒ¼ãƒãƒ¼ã—ã¦ãã ã•ã„"></div>
                    <div id="event-log" style="margin-top: 10px; padding: 10px; background: #f5f5f5; border-radius: 4px; max-height: 150px; overflow-y: auto;">
                        <strong>ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°:</strong>
                        <ul id="event-list"></ul>
                    </div>
                </div>

                <div class="code-container">
                    <div class="code-block">
                        <button class="copy-button" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>
                        <pre>
// æ§˜ã€…ãªã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ—
input.addEventListener('input', handleInput);        // å…¥åŠ›æ™‚
input.addEventListener('focus', handleFocus);        // ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ™‚
input.addEventListener('blur', handleBlur);          // ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒå¤–ã‚ŒãŸæ™‚

select.addEventListener('change', handleChange);     // é¸æŠå¤‰æ›´æ™‚

element.addEventListener('mouseenter', handleMouseEnter); // ãƒã‚¦ã‚¹ã‚ªãƒ¼ãƒãƒ¼æ™‚
element.addEventListener('mouseleave', handleMouseLeave); // ãƒã‚¦ã‚¹ã‚¢ã‚¦ãƒˆæ™‚

document.addEventListener('keydown', handleKeyDown); // ã‚­ãƒ¼æŠ¼ä¸‹æ™‚
window.addEventListener('resize', handleResize);     // ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒªã‚µã‚¤ã‚ºæ™‚
                        </pre>
                    </div>
                </div>
            </section>

            <section class="section">
                <h2>4. å®Ÿè·µçš„ãªå¿œç”¨ä¾‹</h2>
                
                <h3>4-1. ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³</h3>
                <div class="demo-area">
                    <div class="demo-title">å®Ÿæ¼”ï¼šãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³</div>
                    <form id="validation-form">
                        <div style="margin-bottom: 10px;">
                            <label>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹:</label><br>
                            <input type="email" id="email-input" placeholder="example@example.com" style="width: 300px;">
                            <div id="email-error" style="color: red; font-size: 0.9em;"></div>
                        </div>
                        <div style="margin-bottom: 10px;">
                            <label>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰:</label><br>
                            <input type="password" id="password-input" placeholder="8æ–‡å­—ä»¥ä¸Š" style="width: 300px;">
                            <div id="password-error" style="color: red; font-size: 0.9em;"></div>
                        </div>
                        <button type="submit">é€ä¿¡</button>
                    </form>
                </div>

                <h3>4-2. ToDoãƒªã‚¹ãƒˆã‚¢ãƒ—ãƒª</h3>
                <div class="demo-area">
                    <div class="demo-title">å®Ÿæ¼”ï¼šToDoãƒªã‚¹ãƒˆã‚¢ãƒ—ãƒª</div>
                    <div style="margin-bottom: 10px;">
                        <input type="text" id="todo-input" placeholder="æ–°ã—ã„ã‚¿ã‚¹ã‚¯ã‚’å…¥åŠ›" style="width: 300px;">
                        <button onclick="addTodo()">è¿½åŠ </button>
                    </div>
                    <div id="todo-list"></div>
                    <div style="margin-top: 10px;">
                        <button onclick="clearCompleted()">å®Œäº†æ¸ˆã¿ã‚’å‰Šé™¤</button>
                        <button onclick="clearAll()">å…¨ã¦å‰Šé™¤</button>
                    </div>
                </div>

                <h3>4-3. ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼</h3>
                <div class="demo-area">
                    <div class="demo-title">å®Ÿæ¼”ï¼šãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <div style="margin-top: 10px;">
                        <button onclick="startProgress()">é–‹å§‹</button>
                        <button onclick="resetProgress()">ãƒªã‚»ãƒƒãƒˆ</button>
                        <span id="progress-text">0%</span>
                    </div>
                </div>
            </section>

            <section class="section">
                <h2>8. å®Ÿè·µã‚²ãƒ¼ãƒ ï¼šDOMæ“ä½œã¨EventListenerã‚’æ´»ç”¨ã—ãŸã‚²ãƒ¼ãƒ é›†</h2>
                <p>DOMæ“ä½œã¨EventListenerã®æŠ€è¡“ã‚’ä½¿ã£ã¦ã€å®Ÿéš›ã«å‹•ä½œã™ã‚‹ã‚²ãƒ¼ãƒ ã‚’ä½œæˆã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
                
                <h3>8-1. ç¥çµŒè¡°å¼±ã‚²ãƒ¼ãƒ </h3>
                <div class="game-container">
                    <div class="demo-title">ğŸ® ç¥çµŒè¡°å¼±ã‚²ãƒ¼ãƒ </div>
                    <p>ã‚«ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€åŒã˜æ•°å­—ã®ãƒšã‚¢ã‚’è¦‹ã¤ã‘ã¦ãã ã•ã„ï¼</p>
                    <div class="game-stats">
                        <div>è©¦è¡Œå›æ•°: <span id="memory-attempts">0</span></div>
                        <div>è¦‹ã¤ã‘ãŸãƒšã‚¢: <span id="memory-pairs">0</span> / 8</div>
                        <div>æ™‚é–“: <span id="memory-time">0</span>ç§’</div>
                    </div>
                    <div class="game-board" id="memory-board"></div>
                    <div class="game-controls">
                        <button onclick="startMemoryGame()">æ–°ã—ã„ã‚²ãƒ¼ãƒ </button>
                        <button onclick="resetMemoryGame()">ãƒªã‚»ãƒƒãƒˆ</button>
                    </div>
                </div>

                <h3>8-2. ã‚¹ãƒãƒ¼ã‚¯ã‚²ãƒ¼ãƒ </h3>
                <div class="game-container">
                    <div class="demo-title">ğŸ ã‚¹ãƒãƒ¼ã‚¯ã‚²ãƒ¼ãƒ </div>
                    <p>çŸ¢å°ã‚­ãƒ¼ã¾ãŸã¯WASDã‚­ãƒ¼ã§ã‚¹ãƒãƒ¼ã‚¯ã‚’æ“ä½œã—ã¦ã€é£Ÿã¹ç‰©ã‚’å–å¾—ã—ã¦ãã ã•ã„ï¼</p>
                    <div class="game-stats">
                        <div>ã‚¹ã‚³ã‚¢: <span id="snake-score">0</span></div>
                        <div>æœ€é«˜ã‚¹ã‚³ã‚¢: <span id="snake-high-score">0</span></div>
                        <div id="snake-status">æº–å‚™å®Œäº†</div>
                    </div>
                    <canvas id="snake-canvas" class="snake-game" width="400" height="400"></canvas>
                    <div class="game-controls">
                        <button onclick="startSnakeGame()">ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
                        <button onclick="pauseSnakeGame()">ä¸€æ™‚åœæ­¢</button>
                        <button onclick="resetSnakeGame()">ãƒªã‚»ãƒƒãƒˆ</button>
                    </div>
                    <p style="margin-top: 10px; font-size: 0.9rem;">
                        æ“ä½œæ–¹æ³•: çŸ¢å°ã‚­ãƒ¼ ã¾ãŸã¯ WASD ã‚­ãƒ¼ã§ç§»å‹•
                    </p>
                </div>

                <h3>8-3. ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚²ãƒ¼ãƒ </h3>
                <div class="game-container">
                    <div class="demo-title">âš¡ ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚²ãƒ¼ãƒ </div>
                    <p>ç”»é¢ãŒç·‘è‰²ã«ãªã£ãŸã‚‰ã€ã§ãã‚‹ã ã‘æ—©ãã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼</p>
                    <div class="game-stats">
                        <div>æœ€é€Ÿã‚¿ã‚¤ãƒ : <span id="reaction-best">-</span>ms</div>
                        <div>å¹³å‡ã‚¿ã‚¤ãƒ : <span id="reaction-average">-</span>ms</div>
                        <div>è©¦è¡Œå›æ•°: <span id="reaction-attempts">0</span></div>
                    </div>
                    <div id="reaction-area" style="width: 100%; height: 200px; background: #e9ecef; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; cursor: pointer; transition: all 0.3s ease;">
                        ã‚¯ãƒªãƒƒã‚¯ã—ã¦é–‹å§‹
                    </div>
                    <div class="game-controls">
                        <button onclick="startReactionGame()">æ–°ã—ã„ã‚²ãƒ¼ãƒ </button>
                        <button onclick="resetReactionStats()">è¨˜éŒ²ãƒªã‚»ãƒƒãƒˆ</button>
                    </div>
                </div>
            </section>

            <section class="section">
                <h2>9. ã‚²ãƒ¼ãƒ ã®ã‚³ãƒ¼ãƒ‰è§£èª¬</h2>
                <p>ä¸Šè¨˜ã®ã‚²ãƒ¼ãƒ ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹DOMæ“ä½œã¨EventListenerã®æŠ€è¡“ã‚’è§£èª¬ã—ã¾ã™ã€‚</p>
                
                <h3>9-1. ç¥çµŒè¡°å¼±ã‚²ãƒ¼ãƒ ã®ã‚³ãƒ¼ãƒ‰</h3>
                <div class="code-container">
                    <div class="code-block">
                        <button class="copy-button" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>
                        <pre>
// ç¥çµŒè¡°å¼±ã‚²ãƒ¼ãƒ ã®å®Ÿè£…ä¾‹
class MemoryGame {
    constructor() {
        this.cards = [];
        this.flippedCards = [];
        this.attempts = 0;
        this.pairs = 0;
        this.gameStarted = false;
    }

    createCard(number, index) {
        const card = document.createElement('div');
        card.className = 'game-tile';
        card.dataset.number = number;
        card.dataset.index = index;
        card.textContent = '?';
        
        // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¿½åŠ 
        card.addEventListener('click', (e) => this.flipCard(e.target));
        
        return card;
    }

    flipCard(card) {
        if (this.flippedCards.length < 2 && !card.classList.contains('revealed')) {
            card.classList.add('revealed');
            card.textContent = card.dataset.number;
            this.flippedCards.push(card);
            
            if (this.flippedCards.length === 2) {
                this.checkMatch();
            }
        }
    }

    checkMatch() {
        const [card1, card2] = this.flippedCards;
        this.attempts++;
        
        if (card1.dataset.number === card2.dataset.number) {
            // ãƒãƒƒãƒã—ãŸå ´åˆ
            card1.classList.add('matched');
            card2.classList.add('matched');
            this.pairs++;
            this.flippedCards = [];
        } else {
            // ãƒãƒƒãƒã—ãªã‹ã£ãŸå ´åˆ
            setTimeout(() => {
                card1.classList.remove('revealed');
                card2.classList.remove('revealed');
                card1.textContent = '?';
                card2.textContent = '?';
                this.flippedCards = [];
            }, 1000);
        }
    }
}
                        </pre>
                    </div>
                </div>

                <h3>9-2. ã‚¹ãƒãƒ¼ã‚¯ã‚²ãƒ¼ãƒ ã®ã‚³ãƒ¼ãƒ‰</h3>
                <div class="code-container">
                    <div class="code-block">
                        <button class="copy-button" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>
                        <pre>
// ã‚¹ãƒãƒ¼ã‚¯ã‚²ãƒ¼ãƒ ã®å®Ÿè£…ä¾‹
class SnakeGame {
    constructor(canvas) {
        this.canvas = canvas;
        this.ctx = canvas.getContext('2d');
        this.gridSize = 20;
        this.snake = [{x: 200, y: 200}];
        this.direction = {x: 0, y: 0};
        this.food = this.generateFood();
        this.score = 0;
        
        // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
        document.addEventListener('keydown', (e) => this.handleKeyPress(e));
    }

    handleKeyPress(event) {
        const key = event.key;
        
        // çŸ¢å°ã‚­ãƒ¼ã¨WASDã‚­ãƒ¼ã«å¯¾å¿œ
        switch(key) {
            case 'ArrowUp':
            case 'w':
            case 'W':
                if (this.direction.y !== this.gridSize) {
                    this.direction = {x: 0, y: -this.gridSize};
                }
                break;
            case 'ArrowDown':
            case 's':
            case 'S':
                if (this.direction.y !== -this.gridSize) {
                    this.direction = {x: 0, y: this.gridSize};
                }
                break;
            case 'ArrowLeft':
            case 'a':
            case 'A':
                if (this.direction.x !== this.gridSize) {
                    this.direction = {x: -this.gridSize, y: 0};
                }
                break;
            case 'ArrowRight':
            case 'd':
            case 'D':
                if (this.direction.x !== -this.gridSize) {
                    this.direction = {x: this.gridSize, y: 0};
                }
                break;
        }
    }

    update() {
        // ã‚¹ãƒãƒ¼ã‚¯ã®é ­ã‚’ç§»å‹•
        const head = {
            x: this.snake[0].x + this.direction.x,
            y: this.snake[0].y + this.direction.y
        };

        // å£ã¨ã®è¡çªåˆ¤å®š
        if (head.x < 0 || head.x >= this.canvas.width || 
            head.y < 0 || head.y >= this.canvas.height) {
            return false; // ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼
        }

        // è‡ªåˆ†ã¨ã®è¡çªåˆ¤å®š
        if (this.snake.some(segment => segment.x === head.x && segment.y === head.y)) {
            return false; // ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼
        }

        this.snake.unshift(head);

        // é£Ÿã¹ç‰©ã‚’å–å¾—ã—ãŸã‹ãƒã‚§ãƒƒã‚¯
        if (head.x === this.food.x && head.y === this.food.y) {
            this.score++;
            this.food = this.generateFood();
        } else {
            this.snake.pop();
        }

        return true; // ã‚²ãƒ¼ãƒ ç¶šè¡Œ
    }
}
                        </pre>
                    </div>
                </div>
            </section>

            <section class="section">
                <h2>10. é«˜åº¦ãªãƒ†ã‚¯ãƒ‹ãƒƒã‚¯</h2>
                
                <h3>5-1. ã‚¤ãƒ™ãƒ³ãƒˆãƒ‡ãƒªã‚²ãƒ¼ã‚·ãƒ§ãƒ³</h3>
                <p>ã‚¤ãƒ™ãƒ³ãƒˆãƒ‡ãƒªã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€è¦ªè¦ç´ ã«ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¨­å®šã—ã€å­è¦ç´ ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä¸€æ‹¬ã§å‡¦ç†ã™ã‚‹æŠ€è¡“ã§ã™ã€‚å‹•çš„ã«è¿½åŠ ã•ã‚Œã‚‹è¦ç´ ã«ã‚‚å¯¾å¿œã§ãã¾ã™ã€‚</p>
                
                <div class="code-container">
                    <div class="code-block">
                        <button class="copy-button" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>
                        <pre>
// ã‚¤ãƒ™ãƒ³ãƒˆãƒ‡ãƒªã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¾‹
document.getElementById('parent').addEventListener('click', function(event) {
    if (event.target.classList.contains('child-button')) {
        console.log('å­è¦ç´ ã®ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ');
        console.log('ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸè¦ç´ :', event.target);
    }
});
                        </pre>
                    </div>
                </div>

                <h3>5-2. ã‚¤ãƒ™ãƒ³ãƒˆã®åˆ¶å¾¡</h3>
                <div class="code-container">
                    <div class="code-block">
                        <button class="copy-button" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>
                        <pre>
// ã‚¤ãƒ™ãƒ³ãƒˆã®ä¼æ’­ã‚’æ­¢ã‚ã‚‹
event.stopPropagation();

// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å‹•ä½œã‚’é˜²ã
event.preventDefault();

// ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®å‰Šé™¤
element.removeEventListener('click', handleClick);

// ä¸€åº¦ã ã‘å®Ÿè¡Œã•ã‚Œã‚‹ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
element.addEventListener('click', handleClick, { once: true });
                        </pre>
                    </div>
                </div>

                <h3>5-3. ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆ</h3>
                <div class="code-container">
                    <div class="code-block">
                        <button class="copy-button" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>
                        <pre>
// ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆã®ä½œæˆ
const customEvent = new CustomEvent('myCustomEvent', {
    detail: { message: 'Hello from custom event!' }
});

// ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆã®ç™ºç«
element.dispatchEvent(customEvent);

// ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒªã‚¹ãƒŠãƒ¼
element.addEventListener('myCustomEvent', function(event) {
    console.log(event.detail.message);
});
                        </pre>
                    </div>
                </div>
            </section>

            <section class="section">
                <h2>11. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®è€ƒæ…®äº‹é …</h2>
                <p>DOMæ“ä½œã¨ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã¯é©åˆ‡ã«ä½¿ç”¨ã—ãªã„ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å•é¡Œã‚’å¼•ãèµ·ã“ã™å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</p>
                
                <h3>ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹</h3>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>å¤§é‡ã®DOMæ“ä½œã¯<span class="highlight">DocumentFragment</span>ã‚’ä½¿ç”¨ã—ã¦ã¾ã¨ã‚ã¦å‡¦ç†</li>
                    <li>ä¸è¦ã«ãªã£ãŸã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã¯<span class="highlight">removeEventListener</span>ã§å‰Šé™¤</li>
                    <li>é »ç¹ã«ç™ºç”Ÿã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆscrollã€resizeï¼‰ã¯<span class="highlight">throttle</span>ã‚„<span class="highlight">debounce</span>ã‚’ä½¿ç”¨</li>
                    <li>ã‚¤ãƒ™ãƒ³ãƒˆãƒ‡ãƒªã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ´»ç”¨ã—ã¦ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®æ•°ã‚’æœ€å°é™ã«</li>
                </ul>

                <div class="code-container">
                    <div class="code-block">
                        <button class="copy-button" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>
                        <pre>
// DocumentFragmentã‚’ä½¿ã£ãŸåŠ¹ç‡çš„ãªDOMæ“ä½œ
const fragment = document.createDocumentFragment();
for (let i = 0; i < 1000; i++) {
    const div = document.createElement('div');
    div.textContent = `Item ${i}`;
    fragment.appendChild(div);
}
document.getElementById('container').appendChild(fragment);

// Debounceã®ä¾‹
function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}

const debouncedHandler = debounce(handleInput, 300);
input.addEventListener('input', debouncedHandler);
                        </pre>
                    </div>
                </div>
            </section>

            <section class="section">
                <h2>7. ã¾ã¨ã‚</h2>
                <p>DOMæ“ä½œã¨EventListenerã¯ã€ãƒ¢ãƒ€ãƒ³ãªWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã«ãŠã„ã¦å¿…é ˆã®æŠ€è¡“ã§ã™ã€‚åŸºæœ¬çš„ãªæ¦‚å¿µã‹ã‚‰é«˜åº¦ãªãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã¾ã§ç†è§£ã™ã‚‹ã“ã¨ã§ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã§ä½¿ã„ã‚„ã™ã„Webãƒšãƒ¼ã‚¸ã‚’ä½œæˆã§ãã¾ã™ã€‚</p>
                
                <h3>é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ</h3>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>DOMã¯HTMLãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ çš„ãªè¡¨ç¾</li>
                    <li>EventListenerã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ“ä½œã«åå¿œã™ã‚‹å‹•çš„ãªãƒšãƒ¼ã‚¸ã‚’ä½œæˆ</li>
                    <li>é©åˆ‡ãªã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã¨å‡¦ç†æ–¹æ³•ã‚’é¸æŠã™ã‚‹ã“ã¨ãŒé‡è¦</li>
                    <li>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’è€ƒæ…®ã—ãŸå®Ÿè£…ã‚’å¿ƒãŒã‘ã‚‹</li>
                    <li>ã‚¤ãƒ™ãƒ³ãƒˆãƒ‡ãƒªã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãªã©ã®é«˜åº¦ãªæŠ€è¡“ã‚‚æ´»ç”¨ã™ã‚‹</li>
                </ul>
            </section>
        </div>

        <div class="footer">
            <p>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä½œæˆæ™‚é–“ï¼ˆHTML/CSS/JavaScriptã®è¨­è¨ˆãƒ»å®Ÿè£…ã‚’å«ã‚€ï¼‰: ç´„8æ™‚é–“</p>
            <p>DOMæ“ä½œã¨EventListenerã®æŠ€è¡“è§£èª¬ - JavaScriptå®Ÿè·µãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«</p>
        </div>
    </div>

    
</body>
</html>